doctrine Invol where {
  mode M;
  type A @M;
  gen f : [A] -> [A] @M;
  rule computational inv -> : [A] -> [A] @M =
    f ; f == id[A]
}

morphism Double : Invol -> Invol where {
  gen f @ M -> f ; f
}

run main where {
  doctrine Invol;
  mode M;
  apply Double;
  show normalized;
}
---
f
