import "../../lib/terms/term_defs.llang"

doctrine Ext extends Base where {
  gen g : [A] -> [A] @M;
}

pipeline legacy_main where {
  normalize;
  extract diagram;
}

run main using legacy_main where {
  source doctrine Ext;
}
---
@t ; g
---
